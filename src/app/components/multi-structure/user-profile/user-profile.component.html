<div class="profile-container">
  <!-- Ph·∫ßn 1: Th√¥ng tin c√° nh√¢n -->
  <div class="profile-left">
    <div class="profile-header">
      <!-- N·∫øu c√≥ ·∫£nh n·ªÅn -->
      <img
        *ngIf="userInfo.backgroundUrl"
        [src]="backgroundUrl ? backgroundUrl : 'assets/placeholder-banner.png'"
        alt="Background"
        class="background-img"
      />

      <!-- N·∫øu kh√¥ng c√≥ ·∫£nh n·ªÅn (backgroundUrl l√† chu·ªói r·ªóng) -->
      <div *ngIf="!userInfo.backgroundUrl" class="background-img">Ch∆∞a ƒë·∫∑t</div>

      <!-- N√∫t upload ·∫£nh n·ªÅn -->
      <label
        class="upload-btn"
        *ngIf="this.accountId === null && !this.infoUserAccount"
      >
        üì∑
        <input
          type="file"
          (change)="uploadBackground($event)"
          accept="image/*"
        />
      </label>
    </div>
    <div class="profile-info">
      <div class="avatar-container">
        <img
          *ngIf="userInfo.avatarUrl"
          [src]="userAvatarUrl"
          alt="Avatar"
          class="avatar"
        />
        <div *ngIf="!userInfo.avatarUrl" class="avatar">Ch∆∞a ƒë·∫∑t</div>
        <!-- N√∫t upload ·∫£nh n·ªÅn -->
        <label
          class="upload-avatar-btn"
          *ngIf="this.accountId === null && !this.infoUserAccount"
        >
          üì∑
          <input type="file" (change)="uploadAvatar($event)" accept="image/*" />
        </label>
      </div>
      <div class="text-info">
        <h2 class="profile-name">{{ userInfo.displayName }}</h2>
        <p class="profile-bio">{{ userInfo.bio }}</p>
      </div>
    </div>
  </div>

  <!-- Ph·∫ßn 2: Chi ti·∫øt th√¥ng tin -->
  <div class="profile-right">
    <section class="profile-section">
      <h3>Gi·ªõi thi·ªáu</h3>
      <p><strong>H·ªç v√† T√™n:</strong> {{ userInfo.fullName }}</p>
      <p><strong>SƒêT:</strong> {{ userInfo.phoneNumber }}</p>
      <p><strong>Email:</strong> {{ userInfo.email }}</p>
      <p><strong>Vai tr√≤:</strong> {{ userInfo.role }}</p>
      <p>
        <strong>Gi·ªõi t√≠nh:</strong>
        {{
          userInfo.gender == null ? "Ch∆∞a ƒë·∫∑t" : userInfo.gender ? "Nam" : "N·ªØ"
        }}
      </p>
    </section>

    <section class="profile-section">
      <h3>D·ªãch v·ª• t√†i kho·∫£n</h3>
      <p>
        <strong>S·ªë d∆∞:</strong>
        {{ userInfo.gpValue || 0 | number : "1.0-0" }} GP
      </p>

      <p>
        <strong>D·ªãch v·ª• s·ª≠ d·ª•ng:</strong>
        <!-- {{ userInfo.services.join(", ") }} -->
      </p>
    </section>

    <section class="profile-section">
      <h3>Th·ªÉ lo·∫°i y√™u th√≠ch</h3>
      <!-- <p>{{ userInfo.favoriteGenres.join(", ") }}</p> -->
    </section>
  </div>
</div>

<app-edit-info-account
  class="modal-update-info-account"
  [infoAccount]="userInfo"
  (close)="closePopup()"
  [class.opened]="(isOpenForm$ | async)?.['modal-update-info-account']"
>
</app-edit-info-account>
